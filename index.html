<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <title>–°–æ—Ü–∏–æ–Ω–∏—á–µ—Å–∫–∏–π —Ç–∏–ø –∫–∞–∫ —Å–∏–≥–Ω–∞–ª</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="css/style.css" rel="stylesheet" />
</head>
<body class="theme-dark">
  <header class="topbar">
    <h1>–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π —Ç–∏–ø</h1>
    <div class="actions">
      <button id="guide-btn" class="ghost">–£—á–µ–±–Ω–∏–∫</button>
      <button id="help-btn" class="ghost">?</button>
    </div>
  </header>

  <main class="layout">
    <section class="left">
      <div class="card">
        <div class="progress">
          <div id="progress-fill"></div>
          <div id="progress-text" class="progress-text">1 / 15</div>
        </div>

        <h2 id="trait-name">‚Äî</h2>
        <p id="trait-description" class="muted">‚Äî</p>

        <div class="slider-row">
          <span id="neg-label" class="pole pole--neg">‚Äî</span>
          <div class="slider-wrap">
            <input id="trait-slider" type="range" min="-1" max="1" step="0.01" value="0" />
            <span id="slider-bubble">0%</span>
          </div>
          <span id="pos-label" class="pole pole--pos">‚Äî</span>
        </div>

        <div class="value-chip" id="value-chip">
          <span id="value-chip-side">‚Äî</span>
          <span id="value-chip-pct">0%</span>
        </div>

        <div id="trait-inspect" class="trait-inspect">
          <div><strong>–í —Å–∏–≥–Ω–∞–ª:</strong> <span id="inspect-signal">‚Äî</span></div>
          <div><strong>–í –º—É–∑—ã–∫—É:</strong> <span id="inspect-music">‚Äî</span></div>
        </div>

        <div class="nav-row">
          <button id="prev-btn" class="ghost">‚Üê –ù–∞–∑–∞–¥</button>
          <button id="fallback-btn" class="ghost">10 –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –ø—Ä–∏–∑–Ω–∞–∫–∞</button>
          <button id="next-btn" class="primary">–î–∞–ª—å—à–µ ‚Üí</button>
        </div>
      </div>

      <div class="card controls-card">
        <div class="legend" id="legend"></div>

        <div class="toggle-row">
          <label class="toggle"><input id="delta-toggle" type="checkbox" /> –ü–æ–∫–∞–∑–∞—Ç—å Œî‚Äë–≤–∫–ª–∞–¥ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–∏–∑–Ω–∞–∫–∞</label>
        </div>

        <div class="player-row">
          <button id="music-btn" class="primary">‚ô™ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –º—É–∑—ã–∫—É</button>
          <button id="stop-btn" class="ghost">‚ñ† –°—Ç–æ–ø</button>
          <button id="export-btn" class="ghost">‚§ì –≠–∫—Å–ø–æ—Ä—Ç –º—É–∑—ã–∫–∏ WAV</button>
          <button id="share-btn" class="ghost">üîó –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
        </div>

        <div class="eq-row hidden">
          <label>–ù–ß
            <input id="eq-low" type="range" min="-12" max="12" step="1" value="0" />
            <span class="eq-meter"><i id="meter-low"></i></span>
          </label>
          <label>–°–ß
            <input id="eq-mid" type="range" min="-12" max="12" step="1" value="0" />
            <span class="eq-meter"><i id="meter-mid"></i></span>
          </label>
          <label>–í–ß
            <input id="eq-high" type="range" min="-12" max="12" step="1" value="0" />
            <span class="eq-meter"><i id="meter-high"></i></span>
          </label>
        </div>

        <div class="upload-row hidden">
          <input id="user-audio" type="file" accept="audio/*" />
          <button id="apply-to-audio" class="ghost">–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–∏–ø –∫ –∞—É–¥–∏–æ</button>
          <button id="export-processed" class="ghost">–≠–∫—Å–ø–æ—Ä—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ</button>
        </div>

        <div class="info-row muted" style="font-size:13px; margin-top:6px">
          –ö–∞–∫ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –º—É–∑—ã–∫–∞: –∫–∞–∂–¥—ã–π –ø—Ä–∏–∑–Ω–∞–∫ —Å–æ–∑–¥–∞—ë—Ç —Å–≤–æ—é –≤–æ–ª–Ω—É. –ú—ã –ø–µ—Ä–µ–≤–æ–¥–∏–º —á–∞—Å—Ç–æ—Ç—ã –≤ –Ω–æ—Ç—ã,
          —Å–∏–ª–∞ –ø—Ä–∏–∑–Ω–∞–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≥—Ä–æ–º–∫–æ—Å—Ç—å—é, –ø–æ–ª—é—Å –≤–ª–∏—è–µ—Ç –Ω–∞ –ø–∞–Ω–æ—Ä–∞–º—É –∏ —Ç–µ–º–±—Ä, –∞ –≥—Ä—É–ø–ø—ã –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∑–∞–¥–∞—é—Ç —Ä–∏—Ç–º –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã.
        </div>
      </div>
    </section>

    <section class="right">
      <div class="eq-visual hidden">
        <canvas id="eq-visual" width="640" height="360"></canvas>
      </div>

      <div class="waves2d hidden">
        <canvas id="wave-plot" height="120"></canvas>
      </div>

      <div class="ridge2d hidden">
        <canvas id="ridge-plot" height="220"></canvas>
      </div>

      <div class="specstrip2d hidden">
        <canvas id="spec-strip" height="48"></canvas>
      </div>

      <div class="analysis hidden" id="analysis">
        <div class="metrics">
          <div><span class="m-label">RMS</span><span id="m-rms">‚Äî</span></div>
          <div><span class="m-label">Peak</span><span id="m-peak">‚Äî</span></div>
          <div><span class="m-label">Crest</span><span id="m-crest">‚Äî</span></div>
          <div><span class="m-label">Centroid</span><span id="m-centroid">‚Äî</span></div>
        </div>
        <div class="spectrum" id="spectrum"></div>
      </div>
    </section>
  </main>

  <dialog id="help-modal" class="help-dialog">
    <h3>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</h3>
    <p>–°–∏–ª—å–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≤–µ–¥—É—â–∏–º–∏ –≥–æ–ª–æ—Å–∞–º–∏: –∏—Ö —á–∞—Å—Ç–æ—Ç—ã –∫–≤–∞–Ω—Ç—É—é—Ç—Å—è –≤ –Ω–æ—Ç—ã, –∞–º–ø–ª–∏—Ç—É–¥–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≥—Ä–æ–º–∫–æ—Å—Ç—å—é, –ø–æ–ª—é—Å–∞ –≤–ª–∏—è—é—Ç –Ω–∞ —Ç–µ–º–±—Ä/–ø–∞–Ω–æ—Ä–∞–º—É, –≥—Ä—É–ø–ø—ã –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —É–ø—Ä–∞–≤–ª—è—é—Ç —Ä–∏—Ç–º–æ–º –∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏. –°—É–º–º–∞ ‚Äî –≤–∞—à ¬´–º—É–∑—ã–∫–∞–ª—å–Ω—ã–π –æ—Ç–ø–µ—á–∞—Ç–æ–∫¬ª.</p>
    <div class="modal-actions">
      <button id="help-close" class="ghost">–ó–∞–∫—Ä—ã—Ç—å</button>
      <button id="help-ok" class="primary">–û–∫–µ–π</button>
    </div>
  </dialog>

  <dialog id="guide-modal" class="help-dialog">
    <h3>–ë—ã—Å—Ç—Ä—ã–π —É—á–µ–±–Ω–∏–∫</h3>
    <div id="guide-content" class="guide-content"></div>
    <div class="modal-actions">
      <button id="guide-skip" class="ghost">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
      <div class="spacer"></div>
      <button id="guide-prev" class="ghost">–ù–∞–∑–∞–¥</button>
      <button id="guide-next" class="primary">–î–∞–ª–µ–µ</button>
    </div>
  </dialog>

  <div id="trait-tooltip" class="tooltip hidden"></div>

  <script type="module" src="data.js"></script>
  <script type="module" src="js/audio.js"></script>
  <script type="module" src="js/main.js"></script>
</body>
</html>
